require 'spec_helper'
require 'ronin/model/targets_software'

require 'model/models/targets_software_model'

describe Model::TargetsArch do
  it "should define a software relation" do
    relationship = TargetsProductModel.relationships['software']

    relationship.should_not be_nil
    relationship.parent_model.should == Software
  end

  it "should define a relationship with Product" do
    relationship = Software.relationships['targets_software_models']

    relationship.should_not be_nil
    relationship.child_model.should == TargetsSoftwareModel
  end

  it "should allow the software to be set via the getter method" do
    model = TargetsSoftwareModel.new
    model.software! :name => 'Toaster'

    model.software.name.should == 'Toaster'
  end
end
